<!-- layout.html -->
<!DOCTYPE html>
<html lang="vi"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org" th:fragment="layout (title, links, content)">
<head>
    <meta charset="UTF-8">
    <title th:replace="${title}">Customer Help Desk</title>
    <link rel="shortcut icon" th:href="@{/img/favicon.ico}" type="image/x-icon">

    <!-- Bootstrap 5.3-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!--/* Per-page placeholder for additional links */-->
    <th:block th:replace="${links}" />

    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="loading-overlay" id="loadingOverlay">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Đang tải...</span>
    </div>
</div>

<div class="app-container">

    <div th:replace="${content}">

    </div>
</div>

<!-- Modal: User Profile -->
<div class="modal fade" id="userProfileModal" tabindex="-1" aria-labelledby="userProfileModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="userProfileModalLabel">Hồ sơ người dùng</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
            </div>
            <div class="modal-body text-center">
                <img src="img/profile-placeholder.jpg" class="rounded-circle mb-3" alt="Avatar" width="100"
                     height="100">
                <h5 id="userFullName">Nguyễn Văn A</h5>
                <p id="userEmail" class="text-muted">email@example.com</p>
                <p id="userRole" class="text-muted">Vai trò: Quản trị viên</p>
                <button class="btn btn-outline-primary mt-3" id="resetPasswordBtn">
                    <i class="bi bi-key"></i> Đặt lại mật khẩu
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Modal: Confirm Reset Password -->
<div class="modal fade" id="confirmResetModal" tabindex="-1" aria-labelledby="confirmResetModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmResetModalLabel">Đặt lại mật khẩu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
            </div>
            <div class="modal-body">
                <p>Bạn có chắc chắn muốn đặt lại mật khẩu cho người dùng này?</p>
                <div class="field-group password mb-2">
                    <label for="password">Mật khẩu: <span class="error d-none" id="error-password">Không được để
                                    trống</span></label>
                    <input type="text" id="password">
                </div>
                <div class="field-group new-password mb-2">
                    <label for="new-password">Mật khẩu mới: <span class="error d-none"
                                                                  id="error-new-password">Không được để trống</span></label></label>
                    <input type="" id="new-password">
                </div>
                <div class="field-group confirm-password mb-2">
                    <label for="confirm-password">Xác nhận mật khẩu: <span class="error d-none"
                                                                           id="error-confirm-password">Mật khẩu không khớp</span></label>
                    <input type="text" id="confirm-password">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-danger" id="confirmResetBtn" disabled>Xác nhận</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal: Settings -->
<div class="modal fade" id="settingModal" tabindex="-1" aria-labelledby="settingModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="settingModalLabel">Cài đặt</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
            </div>
            <div class="modal-body">
                <p>Đang phát triển hoặc thêm nội dung cài đặt tại đây.</p>
            </div>
        </div>
    </div>
</div>
<!-- Toast container (để trống, tạo toast bằng JS) -->
<div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1055;" id="toastContainer"></div>
<!-- Jquery -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/vn.js"></script>
<script th:src="@{/js/script.js}"></script>
</body>
</html>
